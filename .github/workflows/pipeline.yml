name: Using Matrix
on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Environment for deployment'
        type: choice
        required: true
        options: 
        - test
        - staging
        - prod

jobs:
  deploy_infra:
    environment: '${{ inputs.environment }}'
    runs-on: ubuntu-latest
    strategy:
      matrix:
        other_locations: [ubuntu-latest, macos-latest, windows-latest]

    steps:
      - name: Echo Selected Env
        shell: bash
        run: |
          echo ${{ inputs.environment }}

      - name: Echo Other Locations
        shell: bash
        run: |
          echo ${{ matrix.other_locations }}